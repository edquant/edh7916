<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="/edh7916/assets/css/style.css">
<link rel="stylesheet" href="/edh7916/assets/css/syntax_default.css">
<link rel="shortcut icon" type="image/png" href="/edh7916/assets/img/favicon.ico">
<link crossorigin="anonymous" media="all" integrity="sha512-uhAd27cNiLn0VE2GVEVUN8D5zW0o7s0QTnCGMnJZkL2HqN9/LwHDi4ndTPJH0upUQHYl/8QF6cwbOYp/KIzlJQ==" rel="stylesheet" href="https://github.githubassets.com/assets/github-be4e45349cf088df7a6636f437c0a167.css" />
<script defer src="/edh7916/assets/js/all.min.js"></script>
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<title>edquant | EDH 7916: Contemporary Research in Higher Education</title>

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>EDH 7916: Contemporary Research in Higher Education<a href="https://github.com/btskinner/edh7916" class="iconlink">
	      <i class="fab fa-github fa-sm"></i></a></h1>
	<h2 class="thin">Spring 2020</h2>
	<p>A course in quantitative research workflow for students in
the higher education administration program at the University of Florida
</p>
	<!-- side / top bar menu -->
	<h2 class="thin">
	  <a href="/edh7916/">Overview</a></br>
	  <a href="/edh7916/syllabus/">Course
	    information</a></br>
	  <a href="/edh7916/location/">Meeting
	    location</a></br>
	  <a href="/edh7916/start/">Getting started</a></br>
	  <a href="/edh7916/schedule/">Schedule</a></br>
	  <a href="/edh7916/lessons/">Lessons</a></br>
	  <a href="/edh7916/assignments/">Assignments</a></br>
	  <a href="/edh7916/questions/">Questions</a></br>
	  <a href="/edh7916/about/">About</a></br>	  
	</h2>
      </header>

      <section>
	<h1>Organizing</h1>
	

	
<p>
  
  <a href="/edh7916/assets/pdf/organizing.pdf"
     class="iconlink" download title="Get PDF of lesson">
  <i class="far fa-file-pdf fa-2x"></i>
  </a>
  
  &nbsp;&nbsp;
  
  <a href="/edh7916/scripts/organizing.R"
     class="iconlink" download title="Get script">
    <i class="fas fa-code fa-2x"></i>
  </a>
  &nbsp;&nbsp;
  
  
  
  <a href="/edh7916/scripts/template.R"
     class="iconlink" download title="Get extra script">
    <i class="fas fa-code"></i>
  </a>
  &nbsp;&nbsp;
  
  
  
  
</p>


<h1 id="organizing-a-project-directory">Organizing a project directory</h1>

<p>In this lesson, we’ll discuss how to organize both a project directory
and an R script. While there’s no one exact way to do either, there are
good practices that you should generally follow. We’ll begin with how to
organize your project files.</p>

<h2 id="a-place-for-everything-and-everything-in-its-place">A place for everything and everything in its place</h2>

<p>Every data analysis project should have its own set of organized
folders. Just like you might organize a kitchen so that ingredients,
cookbooks, and prepared food all have a specific cabinet or shelf, so
too should you organize your project.</p>

<p>But computers are pretty good at finding files, you say: you can use
your machine’s search feature look for what you need. If you don’t have
that many files to look through, you might not be too bad at quickly
scanning to find what you want either. If this is the case, then why
bother organizing a project directory? Why not just dump everything —
scripts, data, figures, tables, notes, <em>etc</em> — into a single folder (<em>My
downloads folder works just fine, thank you.</em>)? If you need something,
the computer can definitely find it.</p>

<p>So what’s the big deal?</p>

<p>The big deal is that you are thinking from your computer’s perspective
when you should be thinking from the perspective of you, your
collaborators (which includes your future self), and future replicators
(which also includes yourself). Search features are nice, but there’s no
substitute for being able to look through a project’s files <em>just by
looking through the project folders</em>. When a project is well organized,
it’s much easier to understand how it all fits together: the inputs,
processes, and outputs.</p>

<h2 id="a-common-directory-structure">A common directory structure</h2>

<p>You already have a basic directory structure with your class repo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>student_&lt;your_last_name&gt;/
|
|__ assignments/
|__ data/
|__ lessons/
|__ scripts/
|__ working/
</code></pre></div></div>

<p>With a project, you probably won’t have <code class="language-plaintext highlighter-rouge">assignments</code> or <code class="language-plaintext highlighter-rouge">lessons</code>
folders, but you almost certainly will have folders for your <code class="language-plaintext highlighter-rouge">scripts</code>
and <code class="language-plaintext highlighter-rouge">data</code> as well as a <code class="language-plaintext highlighter-rouge">working</code> folder (which some people call
<code class="language-plaintext highlighter-rouge">scratch</code>, like a scratch pad).</p>

<p>What are we missing? Following our analogy above, we have:</p>

<ul>
  <li><strong>Ingredients (Inputs)</strong> - <code class="language-plaintext highlighter-rouge">data</code></li>
  <li><strong>Cookbooks (Processes)</strong> - <code class="language-plaintext highlighter-rouge">scripts</code></li>
</ul>

<p>We are missing <strong>Prepared food (Outputs)</strong>!</p>

<p>What kinds of outputs are we likly to have with our project? One type
quickly come to mind: figures. Both when we start exploring our data and
when we want to make a final report to share, we’re likely to make a
number of plots. Let’s make a folder.</p>

<blockquote>
  <h4 id="quick-exercise">Quick exercise</h4>

  <p>Make a folder in your <code class="language-plaintext highlighter-rouge">student_*</code> working directory called <code class="language-plaintext highlighter-rouge">figures</code>.
There are two ways to do this: (1) you can use the point-and-click
interface in the bottom right panel of RStudio, or (2) you can use the
function <code class="language-plaintext highlighter-rouge">dir.create()</code> in the console.</p>
</blockquote>

<h2 id="absolute-vs-relative-paths">Absolute vs relative paths</h2>

<p>Another reason we organize our project directory is so that we have a
common framework for loading, analyzing, and saving our work. This
common framework allows us to use <strong>relative</strong> rather than <strong>absolute</strong>
paths in our scripts.</p>

<p>A quick analogy. Imagine you ask a friend for directions: <em>how do I get
to the state park?</em> Your friend has three ways they can give you
directions:</p>

<ol>
  <li>How to get to the park from <em>their</em> house</li>
  <li>How to get to the park from <em>your</em> house</li>
  <li>How to get to the park from a common landmark</li>
</ol>

<p>The first way is really easy for your friend, but it puts extra work on
you. Either you first must go to their house so that the directions make
sense, or you have to translate them from your perspective. These
directions are annoying and useless if you also don’t know how to get to
their house.</p>

<p>The second way is really nice to you, but difficult for your friend.
These directions also aren’t reusable for other people. If a third
friend tries to get the directions from you, you’ll just replicate the
first problem. Alternately, if you aren’t at your house the directions
aren’t as useful.</p>

<p>The third way is the best compromise. If you know how to get to a common
landmark, you can get there the way that is best for you. Once there,
you can follow your friend’s directions to the park. These directions
are also shareable: anyone who can get to the common landmark can use
the directions to get to the park.</p>

<p>In the world of your project, the first two sets of directions are
<strong>absolute</strong> paths while the third is a <strong>relative</strong> path. If your
project is organized into folders and another person (collaborator, code
reviewer, future you on another computer) has the full project
directory, then as long as they can get to the correct starting point —
<em>e.g.</em> your <code class="language-plaintext highlighter-rouge">scripts</code> folder — they can run your project easily.</p>

<h3 id="examples">Examples</h3>

<ul>
  <li><strong>Absolute path</strong>: <code class="language-plaintext highlighter-rouge">/Users/btskinner/classes/edh7916/scripts</code></li>
  <li><strong>Relative path</strong>: <code class="language-plaintext highlighter-rouge">./scripts</code></li>
</ul>

<p>The second line assumes we are in the class directory (your <code class="language-plaintext highlighter-rouge">student_*</code>
folders). Notice the <code class="language-plaintext highlighter-rouge">.</code> (dot)? On almost all systems, dots in a file
path work like this:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">.</code> (one dot): <em>this</em> directory/folder</li>
  <li><code class="language-plaintext highlighter-rouge">..</code> (two dots): <em>up one</em> directory</li>
</ul>

<p>What if we are in the <code class="language-plaintext highlighter-rouge">scripts</code> folder, but want to access a file in the
<code class="language-plaintext highlighter-rouge">data</code> directory? We use two dots (<code class="language-plaintext highlighter-rouge">..</code>):</p>

<ul>
  <li>from <code class="language-plaintext highlighter-rouge">scripts</code> to <code class="language-plaintext highlighter-rouge">data</code>: <code class="language-plaintext highlighter-rouge">../data</code></li>
</ul>

<p>What this says is</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">..</code>: back up into the main folder, <code class="language-plaintext highlighter-rouge">student_*</code></li>
  <li><code class="language-plaintext highlighter-rouge">/data</code>: from the main folder, go into <code class="language-plaintext highlighter-rouge">data</code></li>
</ol>

<blockquote>
  <h4 id="quick-exercise-1">Quick exercise</h4>

  <p>Use R’s <code class="language-plaintext highlighter-rouge">list.files()</code> command in the console to show all the files in
the current directory. Next, use the same command, but use a relative
link to see all the files inside the <code class="language-plaintext highlighter-rouge">scripts</code> folder. Finally, use a
relative link to see all the files in the directory above.</p>
</blockquote>

<blockquote>
  <h4 id="quick-exercise-2">Quick exercise</h4>

  <p>Create a file in you new <code class="language-plaintext highlighter-rouge">figures</code> directory called <code class="language-plaintext highlighter-rouge">README.md</code>. While
you can use RStudio’s point-and-click interface, I want you to use the
R command <code class="language-plaintext highlighter-rouge">file.create()</code>. Be sure to include the proper path so that
it’s created in the <code class="language-plaintext highlighter-rouge">figures</code> folder.</p>
</blockquote>

<h1 id="organizing-a-script">Organizing a script</h1>

<h2 id="do-one-thing-and-do-it-well">Do one thing and do it well</h2>

<p>A general philosophy for every script (and functions within a script,
for that matter) should be to do one thing and do it well. Rather than
have a single giant script with 5,000 lines that does your entire
project, it makes more sense to break up your scripts into shorter
modules that you can then bring together. Right now, we have small
scripts so having just one is fine. But this idea applies within the
script itself: organize your scripts into clear sections so that a
person can easily scan it to see what is happening and where.</p>

<h2 id="template">Template</h2>

<p>Here’s a template for an R script with clearly defined sections:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">################################################################################</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">## [ PROJ ] &lt; Name of the overall project &gt;</span><span class="w">
</span><span class="c1">## [ FILE ] &lt; Name of this particular file &gt;</span><span class="w">
</span><span class="c1">## [ AUTH ] &lt; Your name + email / Twitter / GitHub handle &gt;</span><span class="w">
</span><span class="c1">## [ INIT ] &lt; Date you started the file &gt;</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">################################################################################</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## libraries</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## directory paths</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## settings/macros</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## functions</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span><span class="c1">## &lt; BODY &gt;</span><span class="w">
</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## input</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## process</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## output</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span><span class="c1">## END SCRIPT</span><span class="w">
</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span></code></pre></div></div>

<p>And here’s the template with a very simple project outline:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">################################################################################</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">## [ PROJ ] EDH 7916: Organizing</span><span class="w">
</span><span class="c1">## [ FILE ] organizing.R</span><span class="w">
</span><span class="c1">## [ AUTH ] Benjamin Skinner (@btskinner)</span><span class="w">
</span><span class="c1">## [ INIT ] 13 January 2020</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">################################################################################</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## libraries</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## directory paths</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">dat_dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span><span class="w"> </span><span class="s2">"data"</span><span class="p">)</span><span class="w">
</span><span class="n">fig_dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span><span class="w"> </span><span class="s2">"figures"</span><span class="p">)</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## settings/macros</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">old_to_new_score_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1.1</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## functions</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">old_to_new_score</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">test_score</span><span class="p">,</span><span class="w"> </span><span class="n">ratio</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">test_score</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ratio</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span><span class="c1">## BODY</span><span class="w">
</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## input</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readRDS</span><span class="p">(</span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"test_scores.RDS"</span><span class="p">))</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## process</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## add a column for new test score</span><span class="w">
</span><span class="c1">## &lt;dataframe&gt;$&lt;new_scores_column&gt; &lt;- function(&lt;old_scores_column&gt;, &lt;ratio&gt;)</span><span class="w">
</span><span class="n">df</span><span class="o">$</span><span class="n">test_scores_new</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">old_to_new_score</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">test_score</span><span class="p">,</span><span class="w"> </span><span class="n">old_to_new_score_ratio</span><span class="p">)</span><span class="w">

</span><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## output</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">saveRDS</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"test_scores_updated.RDS"</span><span class="p">))</span><span class="w">

</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span><span class="c1">## END SCRIPT</span><span class="w">
</span><span class="c1">## -----------------------------------------------------------------------------</span><span class="w">
</span></code></pre></div></div>

<h3 id="header">Header</h3>

<p>At the very top of your script, give all the relevant information about
the script.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">################################################################################</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">## [ PROJ ] EDH 7916: Organizing</span><span class="w">
</span><span class="c1">## [ FILE ] organizing.R</span><span class="w">
</span><span class="c1">## [ AUTH ] Benjamin Skinner (@btskinner)</span><span class="w">
</span><span class="c1">## [ INIT ] 13 January 2020</span><span class="w">
</span><span class="c1">##</span><span class="w">
</span><span class="c1">################################################################################</span><span class="w">
</span></code></pre></div></div>

<p>Specifically:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">[ PROJ ]</code>: tell what project it belongs to</li>
  <li><code class="language-plaintext highlighter-rouge">[ FILE ]</code>: give the file’s name</li>
  <li><code class="language-plaintext highlighter-rouge">[ AUTH ]</code>: give your name and a way to contact you</li>
  <li><code class="language-plaintext highlighter-rouge">[ INIT ]</code>: give the date you started the file</li>
</ul>

<p>If you aren’t using a version control system like git, then it would
make sense to also include a line for the last time you revised the
file: <code class="language-plaintext highlighter-rouge">[ REVN ]</code>. You can still do this if you want, but the date you
started the file in conjuction with the changes you commit to git should
suffice to give its history.</p>

<p><strong>NOTE</strong> You don’t have to make your header look <em>exactly</em> like mine.
This is just what I’ve landed on after a few years. As long as you have
the relevant information, personalize the details as you will.</p>

<h4 id="libraries-what-extra-code-do-we-need-to-make-this-code-work">Libraries: what extra code do we need to make this code work?</h4>

<p>After the informational header, the first thing you want to include are
the libraries you need to call for your script to work. In this course,
you will almost always call the <strong>{tidyverse}</strong> library.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## libraries</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h4 id="paths-where-is-everything-and-where-is-it-going">Paths: where is everything and where is it going?</h4>

<p>Notice our relative links? Rather than hard-coding / rewriting all the
paths in the script below, we can save the paths in an object. We use
the <code class="language-plaintext highlighter-rouge">file.path()</code> command because it is smart. Some computer operating
systems use forward slashes, <code class="language-plaintext highlighter-rouge">/</code>, for their file paths; others use
backslashes, <code class="language-plaintext highlighter-rouge">\</code>. Rather than try to guess or assume what operating
system future users will use, we can use R’s function, <code class="language-plaintext highlighter-rouge">file.path()</code>, to
check the current operating system and build the paths correctly for us.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## directory paths</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">dat_dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span><span class="w"> </span><span class="s2">"data"</span><span class="p">)</span><span class="w">
</span><span class="n">fig_dir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="s2">".."</span><span class="p">,</span><span class="w"> </span><span class="s2">"figures"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <h4 id="quick-exercise-3">Quick exercise</h4>

  <p>Run these lines of code and then print <code class="language-plaintext highlighter-rouge">dat_dir</code> and <code class="language-plaintext highlighter-rouge">fig_dir</code> to the
console. What do you see?</p>
</blockquote>

<h4 id="settingsmacros-what-numbers-options-or-settings-should-be-consistent">Settings/Macros: what numbers, options, or settings should be consistent?</h4>

<p>Programmers hate “magic” numbers. What are “magic” numbers (including
“magic” strings and settings here as well)? They are values that are
hard-coded in your analysis script.</p>

<p>Say you want to convert old test scores to a new test score based some
ratio, let’s say 1.1 (10% increase). You could multiply every old test
score value throughout your script by 1.1, but what if you later decide
it should be 1.2 or 0.9? You need to change every instance of 1.1.
(Don’t miss any!) Alternately, does 1.1 have any inherent meaning? To
me, not really.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## settings/macros</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">old_to_new_score_ratio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1.1</span><span class="w">
</span></code></pre></div></div>

<p>It’s better to store these constant reusable values at the top of your
script in an object (or macro, as I call it here) that has a clear name.
<code class="language-plaintext highlighter-rouge">old_to_new_score_ratio &lt;- 1.1</code> is clear in its meaning, so when we use
it below, we’ll know what it means. Also, if we decide we need to fix /
change the value later, we only have to change it once.</p>

<p>Put all such numbers, strings, and settings here.</p>

<h4 id="functions-what-useful-code-will-be-repeated-below">Functions: what useful code will be repeated below?</h4>

<p>Other than the functions that come with the packages we load, we might
write functions ourselves. At this point in the course, I’m not
concerned that you know how to write a function or how one works. Just
notice how the function has a good name that tells what it does:
converts old scores to new scores using a ratio (we’ll use the one we
defined above).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## functions</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">old_to_new_score</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">test_score</span><span class="p">,</span><span class="w"> </span><span class="n">ratio</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">test_score</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ratio</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="body">Body</h3>

<p>The body of your script is where the main work happens. You may need
more sections, but at the very least you should generally have dedicated
spots for reading in your data, working with your data, and saving any
output.</p>

<h4 id="input-read-in-or-create-data-well-work-with">Input: read in (or create) data we’ll work with</h4>

<p>Here we read in a very small tibble (a tidyverse version of a data
frame) with some student IDs and their test scores. We can see this if
we look at the data.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## input</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readRDS</span><span class="p">(</span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"test_scores.RDS"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <h4 id="quick-exercise-4">Quick exercise</h4>

  <p>Look at the data, both using RStudio’s <strong>View</strong> and by using some of
the basic techniques we’ve learned so far.</p>
</blockquote>

<h4 id="process-do-the-analytic-work">Process: do the analytic work</h4>

<p>Let’s say that all we want to do is add a new column in which we have
the new test scores as computed with our function and ratio. We can use
base R to add a new column using the <code class="language-plaintext highlighter-rouge">$</code> notation.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## process</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="c1">## add a column for new test score</span><span class="w">
</span><span class="c1">## &lt;dataframe&gt;$&lt;new_scores_column&gt; &lt;- function(&lt;old_scores_column&gt;, &lt;ratio&gt;)</span><span class="w">
</span><span class="n">df</span><span class="o">$</span><span class="n">test_scores_new</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">old_to_new_score</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">test_score</span><span class="p">,</span><span class="w"> </span><span class="n">old_to_new_score_ratio</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h4 id="output-write-the-results-from-our-analyses">Output: write the results from our analyses</h4>

<p>Finally, we save our tibble. Notice how we use a new name. We’ll talk
more about data consistency in a couple of lessons, but we never want to
overwrite our original data. Save a new file with a useful name to keep
everything separate.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## ---------------------------</span><span class="w">
</span><span class="c1">## output</span><span class="w">
</span><span class="c1">## ---------------------------</span><span class="w">

</span><span class="n">saveRDS</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="n">dat_dir</span><span class="p">,</span><span class="w"> </span><span class="s2">"test_scores_updated.RDS"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<h2 id="two-considerations-about-naming-files-and-macros">Two considerations about naming files and macros</h2>

<p>When naming folders, files, objects, or macros, keep these naming rules
in mind:</p>

<ol>
  <li>Name it well (be clear): <em>e.g.</em> <code class="language-plaintext highlighter-rouge">data_clean.R</code> or
<code class="language-plaintext highlighter-rouge">old_to_new_score_ratio</code></li>
  <li>Name it consistent with other items (have a style): <em>e.g.</em>
<code class="language-plaintext highlighter-rouge">data_1.RDS</code>, <code class="language-plaintext highlighter-rouge">data_2.RDS</code>,<code class="language-plaintext highlighter-rouge">data_3.RDS</code>, <em>etc</em></li>
  <li>Name it without spaces!
    <ul>
      <li><strong>NO</strong>: <code class="language-plaintext highlighter-rouge">data clean.R</code></li>
      <li><strong>YES</strong>: <code class="language-plaintext highlighter-rouge">data_clean.R</code></li>
    </ul>
  </li>
</ol>

<p>More person hours are lost than can be counted dealing with file names
with spaces. Don’t do it! Use underscores or hyphens to separate words.</p>



	<!-- <p> -->
	<!--   Updated:  -->
	<!-- </p> -->
      </section>
      <footer>
        <p>
  Benjamin Skinner</br>  
  Assistant Professor</br>  
  University of Florida</br>
  <a href="https://www.btskinner.io" class="iconlink" alt="Personal website">
    <i class="fas fa-home fa-lg"></i></a> | 
  <a href="https://github.com/btskinner" class="iconlink" alt="Github
								profile">
    <i class="fab fa-github fa-lg"></i></a> |
  <a href="https://twitter.com/btskinner" class="iconlink" alt="Twitter profile">
    <i class="fab fa-twitter fa-lg"></i></a>
</p>
<p>
  <small>
    <a href="https://pages.github.com">GitHub Pages</a> |
    <a href="https://github.com/orderedlist/minimal">Theme</a> |
    <a href="/edh7916/releases/">Releases</a>
  </small>
</p>

      </footer>
    </div>

    <!-- load Javascript if page requires it -->
    
    
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-63981025-1', 'auto');
        ga('send', 'pageview');
    </script>
  
  </body>
</html>
