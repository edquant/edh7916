<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="/edh7916/assets/css/style.css">
<link rel="stylesheet" href="/edh7916/assets/css/syntax_default.css">
<link rel="shortcut icon" type="image/png" href="/edh7916/assets/img/favicon.ico">
<link crossorigin="anonymous" media="all" integrity="sha512-uhAd27cNiLn0VE2GVEVUN8D5zW0o7s0QTnCGMnJZkL2HqN9/LwHDi4ndTPJH0upUQHYl/8QF6cwbOYp/KIzlJQ==" rel="stylesheet" href="https://github.githubassets.com/assets/github-be4e45349cf088df7a6636f437c0a167.css" />
<script defer src="/edh7916/assets/js/all.min.js"></script>
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<title>edquant | EDH 7916: Contemporary Research in Higher Education</title>

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>EDH 7916: Contemporary Research in Higher Education<a href="https://github.com/edquant/edh7916" class="iconlink">
	      <i class="fab fa-github fa-sm"></i></a></h1>
	<h2 class="thin">Spring 2023</h2>
	<p>A course in quantitative research workflow for students in
the higher education administration program at the University of Florida
</p>
	<!-- side / top bar menu -->
	<h2 class="thin">
	  <a href="/edh7916/">Overview</a></br>
	  <a href="/edh7916/syllabus/">Course information</a></br>
	  <a href="/edh7916/location/">Meeting location</a></br>
	  <a href="/edh7916/software/">Software</a></br>
	  <a href="/edh7916/schedule/">Schedule</a></br>
	  <a href="/edh7916/lessons/">Lessons</a></br>
	  <a href="/edh7916/assignments/">Assignments</a></br>
	  <a href="/edh7916/questions/">Questions</a></br>
	  <a href="/edh7916/past/">Past courses</a></br>
	  <a href="/edh7916/about/">About</a></br>	  
	</h2>
      </header>

      <section>
	<h1>Assignment 9</h1>
	

	
<p>
  
  <a href="/edh7916/assets/pdf/assignment_9.pdf"
     class="iconlink" download title="Get PDF of lesson">
  <i class="far fa-file-pdf fa-2x"></i>
  </a>
  
  &nbsp;&nbsp;
  
  
  
  
</p>


<p>For this assignment, you will use a combination of the files we’ve
used so far in class. Be sure to set your data directories at the top
of the file (assuming that we’re working in the <code class="language-plaintext highlighter-rouge">scripts</code>
subdirectory). Because some of the questions involve reading in the
data, you can break our one organizing rule that says to read in data
at the top — instead just read in the data as needed for each
question</p>

<p>You <strong>do not</strong> need to save the final output as a data file: just
having the final result print to the console is fine. For each
question, I would like you to try to pipe all the commands
together. Throughout, you <strong>should</strong> account for missing values to the
best of your ability by dropping them.</p>

<h2 id="questions">Questions</h2>

<ol>
  <li>Using a loop, do the following:
    <ol>
      <li>Read in each of the individual school test files for Bend Gate
and Niagara only. (<strong>HINT</strong> The vertical pipe operator, <code class="language-plaintext highlighter-rouge">|</code>,
means <strong>OR</strong> in regular expression patterns.)</li>
      <li>Within each iteration of the loop, add a column to the data
frame that is called <code class="language-plaintext highlighter-rouge">relative_path</code> and contains the string
relative path to the data file you just read in (<em>e.g.</em>, if the
file is located at <code class="language-plaintext highlighter-rouge">../data/sch_test/by_school/bend_gate_1980.csv</code>,
then <code class="language-plaintext highlighter-rouge">relative_path ==
"../data/schools/by_test/bend_gate_1980.csv"</code> in that row).</li>
      <li>Bind all the data sets together.</li>
    </ol>
  </li>
  <li><strong>BONUS</strong>: do the same as before, but use purrr <code class="language-plaintext highlighter-rouge">map()</code> function.</li>
  <li>Read in <code class="language-plaintext highlighter-rouge">hsls_small.csv</code> and do the following:
    <ol>
      <li>Using the user-written function <code class="language-plaintext highlighter-rouge">fix_missing()</code>, convert missing
values in <code class="language-plaintext highlighter-rouge">x1ses</code> to <code class="language-plaintext highlighter-rouge">NA</code>.</li>
      <li>Do the following steps:
        <ol>
          <li>Subset the full data frame to the first 50 rows and pull out
the test scores into a vector using the
following code:
            <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">test_scr</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
   </span><span class="n">filter</span><span class="p">(</span><span class="n">row_number</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">50</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
   </span><span class="n">pull</span><span class="p">(</span><span class="n">x1txmtscor</span><span class="p">)</span><span class="w">
</span></code></pre></div>            </div>
          </li>
          <li>Using a <code class="language-plaintext highlighter-rouge">for()</code> loop, print out the index of the missing
values (when <code class="language-plaintext highlighter-rouge">test_scr</code> equals <code class="language-plaintext highlighter-rouge">-8</code>).</li>
          <li>Repeat the same code, but add an <code class="language-plaintext highlighter-rouge">else()</code> companion to the
initial <code class="language-plaintext highlighter-rouge">if()</code> statement that prints the value if non-missing.</li>
          <li>Add an <code class="language-plaintext highlighter-rouge">else if()</code> between the initial <code class="language-plaintext highlighter-rouge">if()</code> and final
<code class="language-plaintext highlighter-rouge">else()</code> in your loop that prints <code class="language-plaintext highlighter-rouge">"Flag: low score"</code> if the
score is less than 40. Also, change your first <code class="language-plaintext highlighter-rouge">if()</code>
statement to print <code class="language-plaintext highlighter-rouge">"Flag: missing value"</code> instead of the
index if the value is missing.</li>
        </ol>
      </li>
      <li>
        <p>Write your own function to compare two values and return the
higher of the two. It should be called <code class="language-plaintext highlighter-rouge">return_higher()</code>, take
two arguments, and return the higher of two values.</p>

        <p>Once you’ve created it, use it in a dplyr chain to create a
new column in the data frame called <code class="language-plaintext highlighter-rouge">high_expct</code> that is the
represents the higher of <code class="language-plaintext highlighter-rouge">x1stuedexpct</code> and
<code class="language-plaintext highlighter-rouge">x1paredexpct</code>. Don’t forget to account for
missing values!</p>

        <p><strong>HINT</strong> If stuck on what the inside of your function should
look like, go back to the lesson in which we did this already
— can you repurpose that code in some way?</p>
      </li>
    </ol>
  </li>
</ol>

<h4 id="submission-details">Submission details</h4>

<ul>
  <li>Save your script (<code class="language-plaintext highlighter-rouge">&lt;lastname&gt;_assignment_9.R</code>) in your <code class="language-plaintext highlighter-rouge">scripts</code>
directory.</li>
  <li>Push changes to your repo (the new script and new folder) to GitHub
prior to the next class session.</li>
</ul>




	<!-- <p> -->
	<!--   Updated:  -->
	<!-- </p> -->
      </section>
      <footer>
        <p>
  Benjamin Skinner</br>  
  Assistant Professor</br>  
  University of Florida</br>
  <a href="https://www.btskinner.io" class="iconlink" alt="Personal website">
    <i class="fas fa-home fa-lg"></i></a> | 
  <a href="https://github.com/btskinner" class="iconlink" alt="Github
								profile">
    <i class="fab fa-github fa-lg"></i></a> |
  <a href="https://twitter.com/btskinner" class="iconlink" alt="Twitter profile">
    <i class="fab fa-twitter fa-lg"></i></a>
</p>
<p>
  <small>
    <a href="https://pages.github.com">GitHub Pages</a> |
    <a href="https://github.com/orderedlist/minimal">Theme</a> |
    <a href="/edh7916/releases/">Releases</a>
  </small>
</p>

      </footer>
    </div>

    <!-- load Javascript if page requires it -->
    
    
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-63981025-1', 'auto');
        ga('send', 'pageview');
    </script>
  
  </body>
</html>
